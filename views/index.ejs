<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home</title>
    <%- include('partials/head');%>
  </head>

  <body>
    <!--Inizio navbar-->
    <%- include('partials/header');%>
    <!--Fine navbar-->

    <!--Sfondo-->
    <!--btn btn-success-->
    <header class="head-banner text-white">
      <div class="container">
        <div class="row">
          <div class="col mx-auto text-center">
            <h1 class="font-weight-bold">A plan, together</h1>
          </div>
        </div>
        <div class="row">
          <div class="col mx-auto text-center">
            <button
              onclick="location.href='/login'"
              id="bSfondo"
              type="button"
              class="btn btn-success btn-lg"
            >
              Get started
            </button>
          </div>
        </div>
      </div>
    </header>

    <div class="container text-center mx-auto testo">
      <p>
        At vero eos et accusamus et iusto odio dignissimos ducimus qui
        blanditiis praesentium voluptatum deleniti atque corrupti quos dolores
        et quas molestias excepturi sint occaecati cupiditate non provident,
        similique sunt in culpa qui officia deserunt mollitia animi, id est
        laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita
        distinctio. Nam libero tempore, cum soluta nobis est eligendi optio
        cumque nihil impedit quo minus id quod maxime placeat facere possimus,
        omnis voluptas assumenda est, omnis dolor repellendus. Temporibus autem
        quibusdam et aut officiis debitis aut rerum necessitatibus saepe eveniet
        ut et voluptates repudiandae sint et molestiae non recusandae. Itaque
        earum rerum hic tenetur a sapiente delectus, ut aut reiciendis
        voluptatibus maiores alias consequatur aut perferendis doloribus
        asperiores repellat.
      </p>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-12 mx-auto">
          <div class="btn-modal">
            <button
              class="btn btn-success"
              data-toggle="modal"
              data-target="#new-project"
            >
              Aggiungi progetto
            </button>
          </div>
          <table id="project-table" class="table">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Id</th>
                <th scope="col">Titolo</th>
                <th scope="col">Descrizione</th>
                <th scope="col">Categoria</th>
                <th scope="col">Autore</th>
              </tr>
            </thead>
            <tbody id="click-prog">
              <% projects.forEach(element => { %>
              <tr>
                <td><%=element.id%></td>
                <td><%=element.title%></td>
                <td><%=element.description%></td>
                <td><%=element.category%></td>
                <td><%=element.author_name%></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="modal fade" id="new-project" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Aggiungi un nuovo progetto</h5>
            <button
              type="button"
              class="close"
              id="close-modal"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form role="form" method="POST" action="/createProject">
            <div class="modal-body">
              <div class="form-group">
                <label for="titolo">Titolo</label>
                <input type="text" name="title" class="form-control" required />
              </div>

              <div class="form-group">
                <label for="descrizione">Descrizione</label>
                <input type="text" name="description" class="form-control" />
              </div>

              <div class="form-group">
                <label for="categoria">Categoria</label>
                <select class="form-control" name="category">
                  <option>Seleziona una categoria</option>
                  <option>Tecnologia</option>
                  <option>Cucina</option>
                  <option>Animali</option>
                </select>
              </div>

              <div class="form-group">
                <label for="immagine">Immagine</label>
                <input type="file" name="image" class="form-control" />
              </div>

              <div class="form-group">
                <label for="autore">Autore</label>
                <input type="text" name="author_name" class="form-control" />
              </div>
            </div>
            <div class="modal-footer">
              <div class="form-group">
                <div>
                  <button type="submit" class="btn btn-primary">Salva</button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <%- include('partials/footer.ejs');%>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="/javascript/index.js"></script>
  </body>
</html>
