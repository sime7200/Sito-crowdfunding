<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Profilo</title>
    <%- include('partials/head');%>
  </head>

  <body>
    <!--Inizio navbar-->
    <%- include('partials/header');%>
    <!--Fine navbar-->

    <div class="row-profilo">
      <div class="container-card">
        <div class="col-8 mx-auto">
          <h1 class="text-center">Area personale</h1>
          <div class="card">
            <div class="Id utente">
              <h4>Id</h4>
              <p id="id" name="id" for="id">Id utente: <%= user.id%></p>
            </div>
            <div class="username">
              <h4>Username</h4>
              <p>Nome utente: <%= user.username%></p>
            </div>
            <div class="descrizione">
              <h4>Ruolo</h4>
              <p id="role" name="role" for="role">
                Ruolo utente: <%= user.role%>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--tabella progetti propri-->
    <%if(user && user.role=="Creatore") {%>
    <hr class="divider" />

    <div class="container mt-3">
      <div id="elenco-progetti" class="row">
        <div class="col-12 mx-auto">
          <h1 class="text-center">Progetti creati da te</h1>
          <table id="project-table" class="table">
            <thead class="thead-dark">
              <tr>
                <th scope="col">Id</th>
                <th scope="col">Titolo</th>
                <th scope="col">Descrizione</th>
                <th scope="col">Categoria</th>
                <th scope="col">Autore</th>
                <th scope="col">Donazioni (â‚¬)</th>
              </tr>
            </thead>
            <tbody>
              <% projectsUser.forEach(element => { %>
              <tr>
                <td><%=element.id%></td>
                <td><%=element.title%></td>
                <td><%=element.description%></td>
                <td><%=element.category%></td>
                <td><%=element.author_name%></td>
                <td><%=element.donations_total%></td>
              </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <% }; %> <%if(user && user.role=="Creatore") {%>
    <hr class="divider" />

    <h1 class="text-center">I tuoi documenti</h1>
    <div class="container-doc text-center">
      <p>
        <% documentsByUser.forEach(element => { %>"<%= element.title %>" <% });
        %>
      </p>
    </div>
    <% }; %> <%- include('partials/footer.ejs');%>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
      integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
